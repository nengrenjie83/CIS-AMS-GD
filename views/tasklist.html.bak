<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
	<link href="/css/jquery-ui.min.css" rel="stylesheet">
    <script src="/js/jquery-2.1.4.min.js"></script>
    <script src="/js/jquery-ui.min.js"></script>
	<link href=".css/jquery-ui.css" rel="stylesheet">
    <title>サイト</title>
</head>

<body>
    
    <h1>タスク一覧　リストビュー</h1>
    <p>Welcome to ekanban</p>
	<p>
		<a href="/logout">ログアウト</a>
	</p>
	// using json in server.
	<%-JSON.stringify(tasks) %>
	<table border = "1" align = "center">
		<th>Task ID</th>
		<th>Task Name</th>
		<th>Status</th>
		<th>Detail</th>
		<th>Assigned user</th>
		<th>Estimated End Time</th>
		<th>Priority</th>
		<th>Total Time(H)</th>
		<th>Remain Time(H)</th>
	<% for (var i = 0; i<tasks.length;  i++) { %>
		<tr>
			<td><%=tasks[i]._id %></td>
			<td><%=tasks[i].task_name %></td>
			<td><%=tasks[i].task_status %></td>
			<td><%=tasks[i].task_detail %></td>

			<td><%=tasks[i].task_detail %></td>
			<td><%=tasks[i].task_detail %></td>
			<td><%=tasks[i].task_detail %></td>
			<td><%=tasks[i].task_detail %></td>
		</tr>
	<% } %>
	</table>

	<script type="text/javascript">
			// using json in client.
			var tasks ='<%-JSON.stringify(tasks) %>';
			//alert(Object.prototype.toString.apply(tasks));
			//console.log(tasks);
			//alert(JSON.parse(JSON.stringify(tasks)));
			var json = JSON.parse(tasks);
			//alert(Object.prototype.toString.apply(json));
			//alert(json);
			//alert(json[1].task_name);
		$(document).ready(function(){
			//alert("test");
		});
	</script>
</body>

</html>